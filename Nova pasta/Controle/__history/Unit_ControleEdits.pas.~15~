unit Unit_ControleEdits;

interface

uses Form_Edits, Vcl.Controls, Vcl.ComCtrls, Vcl.Dialogs, Unit_Controle,
  Form_CadPessoa,
  System.SysUtils;

type
  TControleEdit = class
  public
    procedure consultarPessoa;

  private

  end;

var
  Controle: TControle;

implementation

{ TControleEdit }

uses Unit_Dados, Form_Consulta;

procedure TControleEdit.consultarPessoa;
begin
  // Controle.getCadPessoa;
  if frm_Consulta = nil then
    frm_Consulta := Tfrm_Consulta.Create(nil);
  frm_Consulta.setSelectSQL
    ('SELECT * FROM logistica_ads.getdadospessoafisica;');
  if frm_Consulta.ShowModal = mrOk then
  begin
    if frm_Cliente = nil then
    begin
      frm_Cliente := Tfrm_Cliente.Create(nil);
      ShowMessage('X')
    end;

    frm_Cliente.spSalvar.tag := dm_ProjetoFinal.qrConsulta.Fields[11].AsInteger;
    frm_Cliente.edNome.Text := dm_ProjetoFinal.qrConsulta.Fields[0].AsString;
    ShowMessage(dm_ProjetoFinal.qrConsulta.Fields[0].AsString);
    frm_Cliente.edCpfCnpj.Text := dm_ProjetoFinal.qrConsulta.Fields[2].AsString;
    // Controle.getCadPessoa;
    FreeAndNil(frm_Cliente);

  end;
  dm_ProjetoFinal.qrConsulta.Close;
  dm_ProjetoFinal.qrConsulta.SQL.Clear;
end;

end.
